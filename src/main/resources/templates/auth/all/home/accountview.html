<html xmlns:th="http://www.thymeleaf.org">
 <!-- @author Daniele Francesco Santamaria daniele.santamaria@unict.it 
 -- https://github.com/dfsantamaria/SpringBootFastDeploy.git -- -->
 <head>
      <meta charset="utf-8">
      <title>Home page</title>
      <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
      <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous" />

      <link th:href="@{/public/css/topNav.css}" rel="stylesheet">
      <link th:href="@{/public/css/main.css}" rel="stylesheet">

      <script th:src="@{/public/js/togglePassword.js}" type="text/javascript"></script>
  </head>

 
    

<body>
 <div class="topnav">
  <a class="active" th:href="@{/auth/api/all/accountView}"> Account </a>
  <a th:href="@{/auth/api/access/login/signout}">Signout</a> 
 </div>

  <div class="outer">
	<div class="container-in" style="margin-top: 10px">
	<h1 class="form-heading">Welcome!</h1> 
	<div><p>Its <label th:text="${serverTime}"> now </label></p></div>	  
      
      <fieldset>
      	  <legend> Your information </legend> 
      	  
               <div class="field-inside">        
              <div class="input-group-text"><i class="fa fa-address-book"></i>
              <div th:if="${viewName}" style="margin-left: 10px"> Name: <span class="wordWrap" th:text="${viewName}"> Name </span> </br> </div>
               </div>                    </div>        
      	     	
             <div class="field-inside"> 
      	     <div class="input-group-text"> <i class="fa fa-address-book"></i>
             <div th:if="${viewMiddleName}" style="margin-left: 10px;"> Middle name: <span class="wordWrap" th:text="${viewMiddleName}"> Middle name </span> </br> </div>	
      	     </div>
             </div>

            <div class="field-inside">
             <div class="input-group-text"><i class="fa fa-address-book"></i>
             <div th:if="${viewLastName}" style="margin-left: 10px"> Last name: <span class="wordWrap"th:text="${viewLastName}"> Last name </span> </br> </div>	
             </div>
           </div>

             <div class="field-inside">
             <div class="input-group-text"><i class="fas fa-user"></i>
             <div th:if="${viewUsername}" style="margin-left: 10px"> Username: <span class="wordWrap" th:text="${viewUsername}"> Username </span> </br> </div>
             </div></div>
             
             <div class="field-inside">
             <div class="input-group-text"><i class="fas fa-user"></i>
            <div th:if="${viewMail}" style="margin-left: 10px"> Email: <span class="wordWrap" th:text="${viewMail}"> Mail </span> </br> </div> 
            </div></div>

            <div class="field-inside">
            <div class="input-group-text"><i class="fa fa-university"></i>
            <div th:if="${viewOrgName}" style="margin-left: 10px;"> Organization name: <span class="wordWrap" th:text="${viewOrgName}"> Org name </span> </br> </div> 
            </div></div>

            <div class="field-inside">
            <div class="input-group-text"><i class="fa fa-key"></i>
            <div th:if="${viewPrivilege}" style="margin-left: 10px;"> Role: <span class="wordWrap" th:text="${viewPrivilege}"> Privilege </span> </br> </div> 
            </div></div>
             
                    
                 
      </fieldset>
     
   
      <form name="form-edit" th:action="@{/auth/api/all/updateData}" method="post">   
        <div class="form-group">
         <fieldset>
          <legend>  Change password </legend>          
          <div th:object="${passdto}">
          <div class="field-inside">
                    <div class="input-group mb-3">
                       <div class="input-group-prepend">
                        <span class="input-group-text" id="basic-addon1"><i class="fas fa-lock"></i></span>
                       </div>

                     <input name="password" type="password" class="form-control" placeholder="Password" id="password"/> 
                        <div class="input-group-append">
                     <span class="input-group-text" type="button" onclick="togglePassword('password','show_eye','hide_eye');">
                     <i class="fas fa-eye" id="show_eye"></i>
                     <i class="fas fa-eye-slash d-none" id="hide_eye"></i>
                     </span>
                   </div>
                  </div>

                    <div class="input-group mb-3">
                       <div class="input-group-prepend">
                        <span class="input-group-text" id="basic-addon1"><i class="fas fa-lock"></i></span>
                       </div>

                     <input name="confirmPassword" type="password" class="form-control" placeholder="Confirm Password" id="confirmPassword"/> 
                        <div class="input-group-append">
                     <span class="input-group-text" type="button" onclick="togglePassword('confirmPassword','conf_show_eye','conf_hide_eye');">
                     <i class="fas fa-eye" id="conf_show_eye"></i>
                     <i class="fas fa-eye-slash d-none" id="conf_hide_eye"></i>
                     </span>
                   </div>
                  </div>
              </div>
          </div>       


          <div th:if="${passwordAccepted}" th:text="${passwordAccepted}" class="alert-success">  Password modified  </div>
          <div th:if="${passwordError}" th:text="${passwordError}" class="has-error">  Error, check the passowrd fields  </div>          
        </fieldset>
       </div>          
          
       <button type="submit" class="btn btn-lg btn-primary btn-block">Submit</button>                 
       </form>                  
   </div>
   </div>
</body>
</html>